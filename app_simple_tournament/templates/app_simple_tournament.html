{% extends 'base.html' %}
{% load static %}

<!-- Title Block -->
{% block 'title' %}
Simple Tournament
{% endblock %}

<!-- Head Block: CSS and Meta Tags -->
{% block 'head' %}
<link rel="stylesheet" href="{% static 'app_simple_tournament/css/simple_tournament.css' %}">
{% endblock %}

<!-- Dashboard Block: Main Content -->
<!-- Dashboard Block: Main Content -->
{% block 'dashboard' %}
<div class="dashboard">
    <!-- First Container: Create Tournament -->
    <div class="container" id="createTournamentBtn" onclick="document.getElementById('tournamentModal').style.display='block'">
        <!-- Tournament Bracket Section -->
        <div class="bracket-section">
            {% include 'app_simple_tournament/svg/tournament_bracket.html' %}
        </div>

        <!-- Text Section with "Create" Button -->
        <div class="text-section">
            <div class="create-btn">Criar Torneio Simples</div>
        </div>
    </div>

    <!-- Dynamically Generated Tournament Containers -->
    {% for tournament in tournaments %}
        <div class="container" onclick="location.href='#'">
            <!-- Tournament Bracket Section -->
            <div class="bracket-section">
                {% include 'app_simple_tournament/svg/tournament_bracket.html' %}
            </div>

            <!-- Text Section with Tournament Name -->
            <div class="text-section">
                {{ tournament.name }}
            </div>
        </div>
    {% endfor %}
</div>

<!-- The Modal -->
<div id="tournamentModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Create Tournament</h2>
        {% if error %}
            <p style="color: red;">{{ error }}</p>
        {% endif %}
        <form id="tournamentForm" method="POST" action="{% url 'create_tournament' %}">
            {% csrf_token %}
            <label for="tournament_name">Tournament Name:</label>
            <input type="text" id="tournament_name" name="tournament_name" required>
            <button type="submit">Submit</button>
        </form>
    </div>
</div>
{% endblock %}
<!-- Body Block: JavaScript -->
{% block 'body' %}
<script src="{% static 'app_simple_tournament/js/simple_tournament.js' %}"></script>
{% endblock %}